var age_today = 1;
var age_univ = 22;
var total_cost = 0;
var current_saving = 6000;// monthly income
var monthly_saving = 0;
var return_per_annual = 5;
var maxIteration = 100;
var tolerance = 10;
var incrementStart = 5000;


function generateDatas() {
    var a = new Array();
    var c = 65 - inputAge + 1;
    for (var b = 0; b < c; b++) {
        if (b == 0) {
			
			//////where can i find
            a[b] = new Data(current_saving*12)// remember current savings changed to monthly income
			
			//alert(current_saving*12);
        } else {
            a[b] = new Data(a[b - 1].val * (1 + .05) + (current_saving * 12));
			//a[b] = (a[b - 1].val * (1 + .05) + (current_saving * 12));
			//alert(a[b]);
        }
    }
    return a
}

function removeFormat(a) {
    a = a + "";
    var b = "";
    for (var c = 0; c < a.length; c++) {
        if (!(a.charAt(c) == "," || a.charAt(c) == ".")) {
            b += a.charAt(c)
        }
    }
    if (!isNaN(parseInt(b))) {
        return parseInt(b)
    }
    return 0
}
function calculateFinalSaving(a) {
    var d = 0;
    var c = age_univ - age_today + 1;
    for (var b = 0; b < c; b++) {
        if (b == 0) {
            d = current_saving
        } else {
            d = d * (1 + (return_per_annual / 100)) + (a * 12)
        }
    }
    return d
}
function calculateAdditionalSavingNeeded() {
    var a = true;
    var b = incrementStart;
    var c = monthly_saving;
    var e = calculateFinalSaving(c);
    if (e > total_cost) {
        return 0
    }
    for (var d = 0; d < maxIteration; d++) {
        if ((e - total_cost) > tolerance) {
            if (a) {
                b = b / 2
            }
            c -= b
        } else {
            if ((total_cost - e) > tolerance) {
                if (!a) {
                    b = b / 2
                }
                c += b
            } else {
                return Math.round(c - monthly_saving)
            }
        }
        e = calculateFinalSaving(c)
    }
    return Math.round(c - monthly_saving)
};